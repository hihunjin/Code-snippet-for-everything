from PIL import Image
import numpy as np
np_image = (np.random.rand(512, 512, 3) * 255).astype("uint8")

# to bytes
np_byte = np_image.tobytes()
print(np_byte)
# b'b\x02pu\x9at"I\x0c\x9d\xea>\x19\r\xf5Gf\x86\x06\xdby\xbd\xca\xb7\x9f?\x9d\xa5\xe3\x80\xa0_\x9d%\xb0\xb5Q(\xeb\x98\xa9\xfb\xf6V\xe7\xe6^ \x98\x82\xa1\xa4\xa3\x8eB\x0ba\xd1g\xb93\xb5\x12m\xa4\x04U\x0e\x0e\\\xf4\xda\x835?e\x13q\x15\xa5\xd2#~^\xa8tx\xd7\xca\xb0\x937\xb5\x93t\x0b\xc4X6\xc2K\x17\xf0\xa0\xb8\xbf\x1c)\xca\xc4\x9eXxV=G\xabp\xca\r\xf4\xde\xedf\x85!\xde\x8aN!>\x07\x8e3\x85{ ...


# restore from bytes
out_image = np.frombuffer(np_byte, dtype=np_image.dtype)
out_image = out_image.reshape(np_image.shape)

# check if all elements of a numpy array are equal
(np_image == out_image).all()
# True
